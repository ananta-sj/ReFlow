===================================================================
PROJECT UNI-TOOL: DEVELOPMENT JOURNEY & TECHNICAL REPORT
===================================================================

PROJECT GOAL:
To create a "Director's Studio" for automated video dubbing, specifically focusing 
on high-quality English-to-Hindi and English-to-Hinglish localization.

===================================================================
1. PHASE BREAKDOWN
===================================================================

PHASE 1: The Core Engine (Transcription)
- Goal: Extract text from video.
- Action: Integrated OpenAI Whisper (Base Model).
- Outcome: Successfully generated timestamped subtitles from video files.

PHASE 2: Translation Logic
- Goal: Convert English text to Hindi.
- Action: Used 'deep-translator' (Google Translate wrapper).
- Outcome: Accurate Devanagari script (e.g., "नमस्ते") generation.

PHASE 3: The Voice Synthesis (TTS)
- Goal: Generate human-like audio.
- Action: Integrated Edge-TTS (Microsoft Edge's free neural voices).
- Outcome: High-quality audio without paid APIs.
  * English Voice: en-US-ChristopherNeural
  * Hindi Voice: hi-IN-MadhurNeural

PHASE 4: Audio-Video Syncing
- Goal: Make the dubbed audio match the original video speed.
- Action: Implemented an 'atempo' algorithm using FFmpeg.
- Logic: Calculates duration of generated audio vs. original time slot. 
  Speeds up or slows down audio to fit (capped between 0.8x and 1.7x).

PHASE 5: The "Hinglish" Pivot
- Goal: Support "Indo-Western" scripts (Hindi grammar, Roman script).
- Challenge: Standard translators output Devanagari ("मैं"). Converting this 
  to Latin ("Main") proved difficult.
- The "Rubbish" Era: Early attempts used strict mathematical transliteration 
  which resulted in unusable code-like text (e.g., "maiN ghara jA...").

PHASE 6: UI & Dashboard Overhaul
- Goal: Move from Terminal to a GUI.
- Action: Built a modern dark-mode interface using CustomTkinter.
- Features: Video loader, Progress tracking, Speed indicators.
- Fix: Resolved "Geometry Management" crashes where resizing broke the layout.

PHASE 7: The Censor Suite
- Goal: Safety rails for profanity.
- Action: Integrated 'better_profanity'.
- Logic: Auto-scan original text -> Flag red in UI -> Inject [BEEP] tag -> 
  Audio engine generates 1000Hz sine wave tone at exact timestamp.

PHASE 8: The Director's Studio (Current State)
- Goal: Professional workflow speed and control.
- Features Added:
  1. Smart Caching: Saves transcript to .json. Reloading a video is now 
     instant (0s) instead of waiting for Whisper (2m).
  2. Threaded Scanning: Moved Censor logic to background threads to prevent 
     UI freezing.
  3. Instant Preview: Added a [PLAY] button next to every line. Uses native 
     'ffplay' to audition audio without rendering the whole video.

===================================================================
2. TECH STACK ANALYSIS
===================================================================

✅ THE WINNING LIBRARIES (Currently in Use)
--------------------------------------------
1. customtkinter    : UI Framework (Modern, dark-mode ready).
2. openai-whisper   : Transcription (Best-in-class accuracy, works offline).
3. edge-tts         : Text-to-Speech (Free, high-quality neural voices).
4. deep-translator  : Translation (Reliable connection to Google Translate).
5. better_profanity : Censorship (Fast, customizable word blocking).
6. anyascii         : Transliteration (The Band-Aid Fix. Lightweight, zero errors).
7. groq             : Smart AI (Optional/Planned. Runs Llama 3 for human-like Hinglish).

❌ THE GRAVEYARD (Discarded/Failed Libraries)
----------------------------------------------
1. indic-transliteration
   - Failure: Output mathematical code ("maiN", "R^i") instead of readable text.
2. googletrans (Alpha)
   - Failure: Crashed due to reliance on the 'cgi' module (deleted in Python 3.13).
3. translatepy
   - Failure: Blocked by Google; failed to extract pronunciation data.
4. ai4bharat-transliteration
   - Failure: "Dependency Hell." Required heavy C++ compilers (fairseq fail).
5. pygame
   - Failure: Failed to compile on Python 3.13. Replaced with native 'ffplay'.
6. unidecode
   - Failure: Too literal. Converted "फ़ाइल" to "phail" instead of "file".

===================================================================
3. FUTURE ROADMAP (Phase 9 & Beyond)
===================================================================
1. Full Llama 3 Integration: Moving away from "Band-Aid" scripts to full AI 
   translation using Groq.
2. Hardcoded Subtitle Removal: Using "Inpainting" to erase existing English 
   text from video frames.
3. Voice Cloning: Replacing standard TTS voices with a clone of the original 
   actor's voice (XTTS v2).

===================================================================

THE REFLOW EVOLUTION
---------------------------------------------------
[x] REBRANDING: 
    - Renamed project from "UniTool/Project 2" to "ReFlow Studio".
    - Established "Deep Navy & Neon Purple" design language (Crypto-Dashboard Style).

[x] CORE ENGINE FIXES:
    - Fixed FFmpeg "filter_complex" crash in Merge Step.
    - Fixed "Reference before assignment" errors in pipeline.
    - Implemented "Lazy Loading" for AI models (Instant App Startup).
    - Integrated "better_profanity" hidden imports for PyInstaller.

[x] UI/UX OVERHAUL (CustomTkinter):
    - Migrated to a Dashboard Layout.
    - Created "Job Cards" with individual progress bars and status badges.
    - Implemented "Floating Pill" Start Button.
    - Added Live Status Header (Total/Completed/Status).
    - Added Light/Dark Mode Toggle.
    - Added Hover Effects on job cards.

[x] PACKAGING (Phase 9):
    - Created robust 'build_app.py' script.
    - configured automatic 'ffmpeg.exe' copying.
    - Added Splash Screen and Custom Icon support.
    - Solved ghost process issues with auto-taskkill logic.

STATUS: RELEASE CANDIDATE 1 (RC1) READY FOR BUILD.